<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® PUBG TDM TOURNAMENT</title>
    <meta name="theme-color" content="#1a1a2e">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div id="splash-overlay" class="splash-overlay">
      <img src="Price banner.png" alt="Tournament Splash">
    </div>
    <div class="container">
        <div class="banner" id="banner"></div>
        <div class="header">
            <div class="header-buttons">
                <button class="header-btn helpline-btn" onclick="window.open('https://zunaidhosse.github.io/My-contact/', '_blank')">ğŸ“ Helpline</button>
                <button class="header-btn share-btn" onclick="window.shareApp()">ğŸ“± Share App</button>
                <button class="header-btn" id="install-btn" style="display:none;">â¬‡ï¸ Install</button>
                <div class="admin-dial">
                    <input type="tel" id="admin-dial-input" class="admin-dial-input" placeholder="Search" maxlength="4" inputmode="numeric">
                    <button class="header-btn admin-dial-btn" id="admin-dial-btn">ğŸ”</button>
                </div>
            </div>
            <h1>ğŸ® PUBG TDM TOURNAMENT</h1>
            <div id="stage-timer" class="timer-display"></div>
            <a id="live-badge" class="live-badge" style="display:none;" href="#" target="_blank" rel="noopener">LIVE</a>
        </div>

        <div class="tab-content">
            <div class="section active" id="notice-section">
                <h2 class="section-title">ğŸ“¢ Notice Board</h2>
                <div class="tournament-info">
                    <div class="info-card">
                        <h3>Tournament Type</h3>
                        <p id="tournament-type">1v1</p>
                    </div>
                    <div class="info-card">
                        <h3>Team Limit</h3>
                        <p id="team-limit">64</p>
                    </div>
                    <div class="info-card">
                        <h3>Registration Status</h3>
                        <p id="registration-status">OPEN</p>
                    </div>
                </div>
                <div id="prize-pool" class="prize-pool">Loading prize pool...</div>
                <div class="notice-board" id="notice-board">Loading...</div>
            </div>

            <div class="section" id="registration-section">
                <h2 class="section-title">ğŸ“ Team Registration</h2>
                <div class="registration-form">
                    <div class="form-group">
                        <label for="team-name">Team Name</label>
                        <input type="text" id="team-name" placeholder="Enter your team name">
                    </div>
                    <button class="btn btn-primary" id="register-btn">Register Now</button>
                    <div id="registration-status-inline" class="registration-status-inline"></div>
                </div>
            </div>

            <div class="section" id="registered-teams-section">
                <h2 class="section-title">ğŸ‘¥ Registered Teams</h2>
                <div class="registrations-list" id="registrations-list">Loading...</div>
            </div>

            <div class="section" id="matches-section">
                <h2 class="section-title">âš”ï¸ Tournament Matches</h2>
                <div class="round-tabs">
                    <button class="round-btn active" id="round1-btn">Round 1</button>
                    <button class="round-btn" id="round2-btn">Round 2</button>
                    <button class="round-btn" id="round3-btn">Round 3</button>
                    <button class="round-btn" id="quarter-btn">Quarter-Finals</button>
                    <button class="round-btn" id="semi-btn">Semi-Finals</button>
                    <button class="round-btn" id="grand-btn">Grand Final</button>
                </div>
                <div id="matches-list"></div>
            </div>

            <div class="section" id="roadmap-section">
                <h2 class="section-title">ğŸ—ºï¸ Tournament Roadmap</h2>
                <div style="display:flex; justify-content:flex-end; margin-bottom:8px;">
                 <button class="btn btn-primary" id="dynamic-roadmap-btn">Dynamic Roadmap</button>
               </div>
                <div id="roadmap-display">Loading bracket...</div>
            </div>

            <div class="section" id="screenshots-section">
                <h2 class="section-title">ğŸ“¸ Match Screenshots</h2>
                <div style="background: rgba(46, 204, 113, 0.2); border: 1px solid #2ecc71; border-radius: 8px; padding: 15px; margin-bottom: 20px; text-align: center;">
                    <h3 style="color: #2ecc71; margin-bottom: 10px;">ğŸ“¤ Submit Your Screenshot</h3>
                    <p style="color: #ecf0f1; margin-bottom: 15px;">Upload your match screenshots to our WhatsApp group</p>
                    <button class="btn btn-primary" onclick="window.open('https://chat.whatsapp.com/DZCZ9RIrDXMAQibGKOvDxt?mode=wwt', '_blank')" style="font-size: 0.95rem; padding: 10px 24px;">ğŸ“¸ Submit Screenshot</button>
                </div>
                <h3 style="margin-bottom: 15px;">ğŸ“· Published Screenshots</h3>
                <div class="winners-grid" id="screenshots-grid">Loading...</div>
            </div>

            <div class="section" id="winners-section">
                <div class="winner-section">
                    <h2>ğŸ† Hall of Champions</h2>
                    <p style="color: #ecf0f1;">Celebrating our tournament winners and their achievements</p>
                </div>
                <div class="winners-grid" id="winners-grid">Loading...</div>
            </div>
        </div>

        <!-- Cut/Delete Guard Modal -->
        <div id="cut-guard" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:2000; align-items:center; justify-content:center;">
          <div class="cut-guard-box">
            <h3 style="margin-bottom:8px;">Confirm Action</h3>
            <p id="cut-guard-msg" style="margin-bottom:10px;"></p>
            <div style="display:flex; gap:8px; align-items:center;">
              <input id="cut-guard-input" type="tel" maxlength="1" inputmode="numeric" placeholder="Enter digit" class="cut-guard-input">
              <button class="btn btn-primary" id="cut-guard-ok">OK</button>
              <button class="btn" id="cut-guard-cancel">Cancel</button>
            </div>
          </div>
        </div>

        <div id="auth-overlay" style="display:none;">
      <div class="auth-box">
        <h3>Account Required</h3>
        <p style="margin:6px 0 10px;">Enter your Game Name</p>
        <input type="text" id="auth-name" placeholder="Game Name">
        <div style="display:flex; gap:8px; margin-top:10px;">
          <button class="btn btn-primary" id="auth-signup">Sign Up</button>
          <button class="btn" id="auth-login">Login</button>
        </div>
        <p id="auth-error" style="color:#e74c3c; margin-top:8px;"></p>
      </div>
    </div>

    </div>

    <div class="bottom-nav">
        <button class="nav-btn active" data-target="notice-section"><i>ğŸ“¢</i><span>Notice</span></button>
        <button class="nav-btn" data-target="registration-section"><i>ğŸ“</i><span>Register</span></button>
        <button class="nav-btn" data-target="registered-teams-section"><i>ğŸ‘¥</i><span>Teams</span></button>
        <button class="nav-btn" data-target="matches-section"><i>âš”ï¸</i><span>Matches</span></button>
        <button class="nav-btn" data-target="roadmap-section"><i>ğŸ—ºï¸</i><span>Roadmap</span></button>
        <button class="nav-btn" data-target="screenshots-section"><i>ğŸ“¸</i><span>Screenshot</span></button>
        <button class="nav-btn" data-target="winners-section"><i>ğŸ†</i><span>Winners</span></button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script type="module" src="js/app.js"></script>
</body>
</html>
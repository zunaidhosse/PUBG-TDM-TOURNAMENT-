<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PUBG Mobile TDM Tournament</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #fff;
            min-height: 100vh;
            padding-bottom: 70px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .banner {
            width: 100%;
            height: 200px;
            background-color: #1a1a2e;
            margin-bottom: 20px;
            border-radius: 10px;
            overflow: hidden;
        }

        .banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            border: 1px solid #3498db;
            position: relative;
        }

        .header h1 {
            color: #f39c12;
            font-size: 2rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }

        .header-buttons {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }

        .header-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .helpline-btn {
            background: #3498db;
            color: white;
        }

        .helpline-btn:hover {
            background: #2980b9;
        }

        .share-btn {
            background: #2ecc71;
            color: white;
        }

        .share-btn:hover {
            background: #27ae60;
        }

        .section {
            background: rgba(26, 26, 46, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #2980b9;
            display: none;
        }

        .section.active {
            display: block;
        }

        .section-title {
            color: #3498db;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #3498db;
        }

        .registration-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 500px;
            margin: 0 auto;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 5px;
            color: #ecf0f1;
        }

        .form-group input {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #3498db;
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn-primary { background: #3498db; color: white; }
        .btn-primary:hover { background: #2980b9; }
        
        .btn-filter {
            background: #34495e;
            color: white;
            margin-right: 10px;
            margin-bottom: 15px;
            padding: 8px 15px;
        }

        .btn-filter.active { background: #3498db; }

        .registrations-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 15px;
        }

        .registration-card {
            background: rgba(52, 152, 219, 0.2);
            border-radius: 8px;
            padding: 15px;
            border: 1px solid #3498db;
        }

        .match-card {
            background: rgba(243, 156, 18, 0.2);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid #f39c12;
        }

        .match-teams {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .match-complete {
            font-size: 1.5rem;
            text-align: center;
            color: #2ecc71;
            margin: 10px 0;
            font-weight: bold;
            text-transform: uppercase;
        }

        .match-pending {
            font-size: 1.5rem;
            text-align: center;
            color: #e74c3c;
            margin: 10px 0;
            font-weight: bold;
            text-transform: uppercase;
        }

        /* Roadmap Styles - Mobile Optimized */
        .bracket-container {
            background: rgba(26, 26, 46, 0.95);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
            overflow-x: auto;
        }

        .zoom-controls {
            position: sticky;
            top: 10px;
            right: 10px;
            z-index: 100;
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-bottom: 10px;
            flex-wrap: wrap;
        }

        .zoom-btn {
            background: rgba(52, 152, 219, 0.8);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .bracket-grid {
            display: flex;
            justify-content: space-between;
            gap: 15px;
            min-width: 800px;
            transform-origin: top left;
            transition: transform 0.3s;
        }

        .bracket-grid.zoom-in { transform: scale(1.3); }
        .bracket-grid.zoom-out { transform: scale(0.7); }

        .bracket-column {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .bracket-round {
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            min-height: 300px;
        }

        .bracket-match {
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.3), rgba(243, 156, 18, 0.1));
            border: 2px solid #f39c12;
            border-radius: 8px;
            padding: 8px;
            margin: 5px 0;
            transition: all 0.3s;
        }

        .bracket-match:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.4);
        }

        .bracket-team {
            background: rgba(0, 0, 0, 0.3);
            padding: 6px 10px;
            margin: 3px 0;
            border-radius: 4px;
            border-left: 3px solid #3498db;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .bracket-team.winner {
            border-left-color: #2ecc71;
            background: rgba(46, 204, 113, 0.2);
            font-weight: bold;
        }

        .bracket-team.loser {
            opacity: 0.5;
            text-decoration: line-through;
        }

        .bracket-center {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-width: 150px;
        }

        .winner-display {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            border: 3px solid #f39c12;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(243, 156, 18, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .winner-display h2 {
            color: #fff;
            font-size: 1.2rem;
            margin-bottom: 8px;
        }

        .winner-display .trophy {
            font-size: 2.5rem;
            margin: 10px 0;
            animation: rotate 3s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .round-label {
            text-align: center;
            color: #f39c12;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #1a1a2e;
            display: flex;
            justify-content: space-around;
            padding: 8px;
            border-top: 1px solid #3498db;
            z-index: 1000;
            overflow-x: auto;
        }

        .nav-btn {
            background: none;
            border: none;
            color: #ecf0f1;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 5px 8px;
            border-radius: 5px;
            transition: background 0.3s;
            font-size: 0.75rem;
            white-space: nowrap;
        }

        .nav-btn.active {
            background: rgba(52, 152, 219, 0.3);
            color: #3498db;
        }

        .nav-btn i {
            font-size: 1.2rem;
            margin-bottom: 2px;
        }

        .notice-board {
            background: rgba(231, 76, 60, 0.2);
            border: 1px solid #e74c3c;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .tournament-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .info-card {
            background: rgba(52, 152, 219, 0.2);
            border-radius: 8px;
            padding: 15px;
            flex: 1;
            min-width: 150px;
            text-align: center;
            border: 1px solid #3498db;
        }

        .empty-message {
            text-align: center;
            padding: 20px;
            color: #95a5a6;
            font-style: italic;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .hidden-match {
            display: none;
        }

        .winner-section {
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.2), rgba(230, 126, 34, 0.1));
            border: 2px solid #f39c12;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }

        .winner-section h2 {
            color: #f39c12;
            margin-bottom: 15px;
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(243, 156, 18, 0.5);
        }

        .winners-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .winner-card {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #f39c12;
            border-radius: 10px;
            padding: 15px;
            transition: all 0.3s;
        }

        .winner-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(243, 156, 18, 0.4);
        }

        .winner-card img {
            width: 100%;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .winner-card h3 {
            color: #f39c12;
            margin-bottom: 8px;
        }

        .winner-card p {
            color: #ecf0f1;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 1.5rem; }
            .header-buttons {
                position: static;
                justify-content: center;
                margin-bottom: 15px;
            }
            .header-btn {
                font-size: 0.75rem;
                padding: 6px 12px;
            }
            .bracket-grid { min-width: 600px; }
            .bracket-match { padding: 6px; }
            .bracket-team { font-size: 0.75rem; padding: 5px 8px; }
            .winner-display { padding: 15px; }
            .winner-display .trophy { font-size: 2rem; }
            .winners-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Banner -->
        <div class="banner" id="banner"></div>

        <!-- Header -->
        <div class="header">
            <div class="header-buttons">
                <button class="header-btn helpline-btn" onclick="window.open('https://zunaidhosse.github.io/My-contact/', '_blank')">üìû Helpline</button>
                <button class="header-btn share-btn" onclick="window.open('https://i.postimg.cc/wBQdT1j6/qrcode.png', '_blank')">üì± Share App</button>
            </div>
            <h1>üéÆ PUBG Mobile TDM Tournament</h1>
            <p>Liquid Glass Gaming Presents</p>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <!-- Notice Board -->
            <div class="section active" id="notice-section">
                <h2 class="section-title">üì¢ Notice Board</h2>
                <div class="notice-board" id="notice-board">Loading...</div>
                
                <div class="tournament-info">
                    <div class="info-card">
                        <h3>Tournament Type</h3>
                        <p id="tournament-type">Loading...</p>
                    </div>
                    <div class="info-card">
                        <h3>Team Limit</h3>
                        <p id="team-limit">Loading...</p>
                    </div>
                    <div class="info-card">
                        <h3>Registration Status</h3>
                        <p id="registration-status">Loading...</p>
                    </div>
                </div>
            </div>

            <!-- Registration -->
            <div class="section" id="registration-section">
                <h2 class="section-title">üìù Team Registration</h2>
                <div class="registration-form">
                    <div class="form-group">
                        <label for="team-name">Team Name</label>
                        <input type="text" id="team-name" placeholder="Enter your team name">
                    </div>
                    <div class="form-group">
                        <label for="user-id">User ID</label>
                        <input type="text" id="user-id" placeholder="Enter your user ID">
                    </div>
                    <button class="btn btn-primary" id="register-btn">Register Now</button>
                </div>
            </div>

            <!-- Registered Teams -->
            <div class="section" id="registered-teams-section">
                <h2 class="section-title">üë• Registered Teams</h2>
                <div class="registrations-list" id="registrations-list">Loading...</div>
            </div>

            <!-- Matches -->
            <div class="section" id="matches-section">
                <h2 class="section-title">‚öîÔ∏è Tournament Matches</h2>
                <div class="filter-buttons">
                    <button class="btn btn-filter active" id="show-all-btn">All Matches</button>
                    <button class="btn btn-filter" id="show-complete-btn">Completed</button>
                    <button class="btn btn-filter" id="show-pending-btn">Pending</button>
                </div>
                <div id="matches-list">Loading...</div>
            </div>

            <!-- Tournament Roadmap -->
            <div class="section" id="roadmap-section">
                <h2 class="section-title">üó∫Ô∏è Tournament Roadmap</h2>
                <div id="roadmap-display">Loading bracket...</div>
            </div>

            <!-- Screenshots Section -->
            <div class="section" id="screenshots-section">
                <h2 class="section-title">üì∏ Match Screenshots</h2>
                
                <div style="background: rgba(46, 204, 113, 0.2); border: 1px solid #2ecc71; border-radius: 8px; padding: 15px; margin-bottom: 20px; text-align: center;">
                    <h3 style="color: #2ecc71; margin-bottom: 10px;">üì§ Submit Your Screenshot</h3>
                    <p style="color: #ecf0f1; margin-bottom: 15px;">Upload your match screenshots to our WhatsApp group</p>
                    <button class="btn btn-success" onclick="window.open('https://chat.whatsapp.com/DZCZ9RIrDXMAQibGKOvDxt?mode=wwt', '_blank')" style="font-size: 1rem; padding: 12px 30px;">
                        üì∏ Submit Screenshot
                    </button>
                </div>

                <h3 style="margin-bottom: 15px;">üì∑ Published Screenshots</h3>
                <div class="winners-grid" id="screenshots-grid">Loading...</div>
            </div>
            <div class="section" id="winners-section">
                <div class="winner-section">
                    <h2>üèÜ Hall of Champions</h2>
                    <p style="color: #ecf0f1;">Celebrating our tournament winners and their achievements</p>
                </div>
                <div class="winners-grid" id="winners-grid">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <button class="nav-btn active" data-target="notice-section">
            <i>üì¢</i>
            <span>Notice</span>
        </button>
        <button class="nav-btn" data-target="registration-section">
            <i>üìù</i>
            <span>Register</span>
        </button>
        <button class="nav-btn" data-target="registered-teams-section">
            <i>üë•</i>
            <span>Teams</span>
        </button>
        <button class="nav-btn" data-target="matches-section">
            <i>‚öîÔ∏è</i>
            <span>Matches</span>
        </button>
        <button class="nav-btn" data-target="roadmap-section">
            <i>üó∫Ô∏è</i>
            <span>Roadmap</span>
        </button>
        <button class="nav-btn" data-target="screenshots-section">
            <i>üì∏</i>
            <span>Screenshot</span>
        </button>
        <button class="nav-btn" data-target="winners-section">
            <i>üèÜ</i>
            <span>Winners</span>
        </button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyA_ZUyquXEaaIvWAfFrZEkk9kROmjL-B1A",
            authDomain: "pubg-tdm-832f3.firebaseapp.com",
            databaseURL: "https://pubg-tdm-832f3-default-rtdb.firebaseio.com",
            projectId: "pubg-tdm-832f3",
            storageBucket: "pubg-tdm-832f3.firebasestorage.app",
            messagingSenderId: "1047250611031",
            appId: "1:1047250611031:web:e31faaf68f613eb531ac12"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Tab navigation
        document.querySelectorAll('.nav-btn').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                document.getElementById(button.getAttribute('data-target')).classList.add('active');
                button.classList.add('active');
            });
        });

        // Filter functionality
        document.querySelectorAll('.btn-filter').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.btn-filter').forEach(b => b.classList.remove('active'));
                button.classList.add('active');
                filterMatches(button.id);
            });
        });

        function filterMatches(filterType) {
            document.querySelectorAll('.match-card').forEach(card => {
                card.classList.remove('hidden-match');
                if (filterType === 'show-complete-btn' && !card.querySelector('.match-complete')) {
                    card.classList.add('hidden-match');
                } else if (filterType === 'show-pending-btn' && !card.querySelector('.match-pending')) {
                    card.classList.add('hidden-match');
                }
            });
        }

        // Load data
        function loadData() {
            // Banner
            database.ref('banner').on('value', (snapshot) => {
                const banner = snapshot.val();
                document.getElementById('banner').innerHTML = banner && banner.imageUrl 
                    ? `<img src="${banner.imageUrl}">` 
                    : '<p style="text-align:center;padding:80px 0;">No banner set</p>';
            });

            // Notice
            database.ref('notice').on('value', (snapshot) => {
                document.getElementById('notice-board').textContent = snapshot.val() || "No announcements";
            });

            // Settings
            database.ref('settings').on('value', (snapshot) => {
                const s = snapshot.val();
                if (s) {
                    document.getElementById('tournament-type').textContent = s.tournamentType || 'Not set';
                    document.getElementById('team-limit').textContent = s.teamLimit || 'Not set';
                    document.getElementById('registration-status').textContent = s.registrationOpen ? 'OPEN' : 'CLOSED';
                    document.getElementById('registration-status').style.color = s.registrationOpen ? '#2ecc71' : '#e74c3c';
                }
            });

            loadTeams();
            loadMatches();
            loadRoadmap();
            loadWinners();
            loadScreenshots();
        }

        // Registration
        document.getElementById('register-btn').addEventListener('click', () => {
            const teamName = document.getElementById('team-name').value.trim();
            const userId = document.getElementById('user-id').value.trim();

            if (!teamName || !userId) {
                alert('Please fill in all fields');
                return;
            }

            database.ref('settings/registrationOpen').once('value')
                .then(snapshot => {
                    if (!snapshot.val()) {
                        alert('Registration is closed');
                        return;
                    }
                    return database.ref('registrations').orderByChild('teamName').equalTo(teamName).once('value');
                })
                .then(snapshot => {
                    if (snapshot && snapshot.exists()) {
                        alert('Team name already exists');
                        return;
                    }
                    return database.ref('registrations').push({
                        teamName,
                        userId,
                        status: 'Pending',
                        registeredAt: Date.now()
                    });
                })
                .then(() => {
                    alert('Registration successful!');
                    document.getElementById('team-name').value = '';
                    document.getElementById('user-id').value = '';
                });
        });

        // Load Teams
        function loadTeams() {
            database.ref('registrations').on('value', (snapshot) => {
                const list = document.getElementById('registrations-list');
                list.innerHTML = '';
                
                snapshot.forEach(child => {
                    const team = child.val();
                    const card = document.createElement('div');
                    card.className = 'registration-card';
                    card.innerHTML = `
                        <h3>${team.teamName}</h3>
                        <p>ID: ${team.userId}</p>
                        <p>Status: <span style="color: ${team.status === 'Approved' ? '#2ecc71' : '#f39c12'}">${team.status || 'Pending'}</span></p>
                    `;
                    list.appendChild(card);
                });

                if (!snapshot.exists()) {
                    list.innerHTML = '<p class="empty-message">No teams registered yet</p>';
                }
            });
        }

        // Load Matches
        function loadMatches() {
            database.ref('matches').on('value', (snapshot) => {
                const list = document.getElementById('matches-list');
                list.innerHTML = '';
                
                snapshot.forEach(child => {
                    const m = child.val();
                    const card = document.createElement('div');
                    card.className = 'match-card';
                    card.innerHTML = `
                        <h3>${m.round}</h3>
                        <div class="match-teams">
                            <span>${m.team1}</span>
                            <span style="color:#f39c12;font-weight:bold;">VS</span>
                            <span>${m.team2}</span>
                        </div>
                        ${m.winner ? `<div class="match-complete">MATCH COMPLETE</div><p style="color:#2ecc71;text-align:center;font-weight:bold;">Winner: ${m.winner}</p>` : '<div class="match-pending">Match Pending</div>'}
                    `;
                    list.appendChild(card);
                });

                if (!snapshot.exists()) {
                    list.innerHTML = '<p class="empty-message">No matches scheduled</p>';
                }
            });
        }

        // Load Roadmap
        function loadRoadmap() {
            database.ref('roadmap').on('value', (snapshot) => {
                const bracket = snapshot.val();
                const display = document.getElementById('roadmap-display');
                
                if (!bracket) {
                    display.innerHTML = '<p class="empty-message">Bracket not generated yet</p>';
                    return;
                }

                let html = '<div class="bracket-container">';
                html += '<div class="zoom-controls">';
                html += '<button class="zoom-btn" onclick="zoomBracket(\'in\')">üîç Zoom In</button>';
                html += '<button class="zoom-btn" onclick="zoomBracket(\'out\')">üîç Zoom Out</button>';
                html += '<button class="zoom-btn" onclick="zoomBracket(\'reset\')">‚Ü∫ Reset</button>';
                html += '</div>';
                html += '<div class="bracket-grid" id="bracket-grid-user">';

                // Round 1
                html += '<div class="bracket-column"><div class="round-label">Round 1</div><div class="bracket-round">';
                bracket.round1.forEach(m => {
                    html += `
                        <div class="bracket-match">
                            <div class="bracket-team ${m.winner === m.team1 ? 'winner' : m.winner ? 'loser' : ''}">
                                ${m.team1}
                            </div>
                            <div class="bracket-team ${m.winner === m.team2 ? 'winner' : m.winner ? 'loser' : ''}">
                                ${m.team2}
                            </div>
                        </div>
                    `;
                });
                html += '</div></div>';

                // Semi Final
                if (bracket.round2 && bracket.round2.length > 0) {
                    html += '<div class="bracket-column"><div class="round-label">Semi Final</div><div class="bracket-round">';
                    bracket.round2.forEach(m => {
                        html += `
                            <div class="bracket-match">
                                <div class="bracket-team ${m.winner === m.team1 ? 'winner' : m.winner ? 'loser' : ''}">
                                    ${m.team1 || 'TBD'}
                                </div>
                                <div class="bracket-team ${m.winner === m.team2 ? 'winner' : m.winner ? 'loser' : ''}">
                                    ${m.team2 || 'TBD'}
                                </div>
                            </div>
                        `;
                    });
                    html += '</div></div>';
                }

                // Center Winner
                html += '<div class="bracket-center">';
                if (bracket.winner) {
                    html += `<div class="winner-display"><div class="trophy">üèÜ</div><h2>CHAMPION</h2><h3>${bracket.winner}</h3></div>`;
                } else {
                    html += '<div class="winner-display"><div class="trophy">üèÜ</div><h2>WINNER</h2><p>TBD</p></div>';
                }
                html += '</div>';

                // Final
                if (bracket.final) {
                    html += '<div class="bracket-column"><div class="round-label">Grand Final</div><div class="bracket-round" style="justify-content:center;">';
                    html += `
                        <div class="bracket-match">
                            <div class="bracket-team ${bracket.final.winner === bracket.final.team1 ? 'winner' : bracket.final.winner ? 'loser' : ''}">
                                ${bracket.final.team1 || 'TBD'}
                            </div>
                            <div class="bracket-team ${bracket.final.winner === bracket.final.team2 ? 'winner' : bracket.final.winner ? 'loser' : ''}">
                                ${bracket.final.team2 || 'TBD'}
                            </div>
                        </div>
                    `;
                    html += '</div></div>';
                }

                html += '</div></div>';
                display.innerHTML = html;
            });
        }

        window.zoomBracket = function(action) {
            const grid = document.getElementById('bracket-grid-user');
            if (!grid) return;
            
            grid.classList.remove('zoom-in', 'zoom-out');
            if (action === 'in') grid.classList.add('zoom-in');
            else if (action === 'out') grid.classList.add('zoom-out');
        };

        // Load Winners
        function loadWinners() {
            database.ref('winners').on('value', (snapshot) => {
                const grid = document.getElementById('winners-grid');
                grid.innerHTML = '';

                const winners = [];
                snapshot.forEach(child => {
                    winners.push(child.val());
                });

                winners.sort((a, b) => b.timestamp - a.timestamp);

                winners.forEach(winner => {
                    const card = document.createElement('div');
                    card.className = 'winner-card';
                    card.innerHTML = `
                        <img src="${winner.image}" alt="${winner.title}">
                        <h3>üèÜ ${winner.title}</h3>
                        ${winner.description ? `<p>${winner.description}</p>` : ''}
                    `;
                    grid.appendChild(card);
                });

                if (winners.length === 0) {
                    grid.innerHTML = '<p class="empty-message">No winners announced yet. Check back after tournament completion!</p>';
                }
            });
        }

        // Load Screenshots
        function loadScreenshots() {
            database.ref('screenshots').on('value', (snapshot) => {
                const grid = document.getElementById('screenshots-grid');
                grid.innerHTML = '';

                const screenshots = [];
                snapshot.forEach(child => {
                    screenshots.push(child.val());
                });

                screenshots.sort((a, b) => b.timestamp - a.timestamp);

                screenshots.forEach(ss => {
                    const card = document.createElement('div');
                    card.className = 'winner-card';
                    card.innerHTML = `
                        <img src="${ss.imageUrl}" alt="${ss.title}">
                        <h3>üì∏ ${ss.title}</h3>
                    `;
                    grid.appendChild(card);
                });

                if (screenshots.length === 0) {
                    grid.innerHTML = '<p class="empty-message">No screenshots available yet. Submit yours now!</p>';
                }
            });
        }

        // Initialize
        loadData();
    </script>
</body>
</html>